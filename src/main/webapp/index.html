<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>data-service</title>
<link rel="shortcut icon" type="image/ico" href="images/favicon.ico">
<link rel="stylesheet" type="text/css" href="css/font-awesome.css">
<link rel="stylesheet" type="text/css" href="themes/custom/easyui.css">
<link rel="stylesheet" type="text/css" href="css/commons.css">
<link rel="stylesheet" type="text/css" href="themes/icon.css">
<link rel="stylesheet" type="text/css" href="css/icon_extends.css">
<link rel="stylesheet" type="text/css" href="css/easyui_extends.css">
<style type="text/css">
body {
	background-image: -moz-linear-gradient(top, #FFFFF0, #fff); /* Firefox */
	background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #FFFFF0), color-stop(1, #fff)); /* Saf4+, Chrome */
	filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFFFF0', endColorstr='#fff', GradientType='0'); /* IE*/
}
</style>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery.easyui.min.js"></script>
<script type="text/javascript" src="js/jquery.easyui.commons.js"></script>
<script type="text/javascript" src="js/jquery.easyui.extends.js"></script>
<script type="text/javascript" src="js/Sortable.js"></script>
<script type="text/javascript" src="js/jquery.binding.js"></script>
<script type="text/javascript" src="js/locale/easyui-lang-zh_CN.js"></script>
<script>
	$(function() {
		$.ds.commons.referCenterByMenuId = function(id) {
			$.ds.commons.chooseTreeId = id;
			var c = $("#center");
			c.unbind('contextmenu');
			c.bind('contextmenu', function(e) {
				e.preventDefault();
				$('#center_menu').menu('show', {
					left : e.pageX,
					top : e.pageY
				});
				rp_center_block = true;
			});
			c.panel({
				href : 'center.html',
				extractor : function(data) {
					data = $.ds.replaceAll(data, "[$]queryString", "id=" + id);
					data = $.ds.replaceAll(data, "[$]windowId", "center");
					return data;
				}
			});
		};

		$.ds.commons.addFootTask = function(window_id, text) {
			var a = $('<a style="margin:2px;"></a>');
			// a.attr("id", id);
			a.attr("window_id", window_id);
			a.attr("data-options", "plain:false");
			a.html(text.length > 10 ? text.substr(0, 10) + '...' : text);
			a.linkbutton();
			a.click(function() {
				var window_id = $(this).attr("window_id");
				$('#' + window_id).window('open');
			});
			$("#foot").append(a);
		};

		$.ds.commons.removeFootTask = function(window_id) {
			$("#foot").find("[window_id='" + window_id + "']").remove();
		};

		$.ds.commons.openWindow = function(id, title, url, queryString) {
			if ($("#" + id).length != 0) {
				return $.dsmessager.show(title + "已经存在。");
			}
			var _window = $('<div></div>');
			_window.attr("id", id);
			_window.attr("title", title);
			// 			_window.attr("class", "easyui-window");
			_window.window({
				href : url,
				// 				top : $.ds.getHeadHeight(),
				// 				left : 0,
				resizable : false,
				height : $.ds.getCenterHeight() < $.ds.getDefaultWindowHeight() ? $.ds.getCenterHeight() : $.ds.getDefaultWindowHeight(),
				width : $.ds.getDefaultWindowWidth(),
				closed : false,
				modal : false,
				loadingMessage : '请稍等，正在读取服务器内容，加载数据。。。',
				doSize : false,
				maximizable : false,
				minimizable : true,
				extractor : function(data) {
					data = $.ds.replaceAll(data, "[$]queryString", queryString);
					data = $.ds.replaceAll(data, "[$]windowId", id);
					return data;
				},
				onClose : function(forceDestroy) {
					$(this).window('destroy');
				},
				onDestroy : function() {
					$.ds.commons.removeFootTask(this.id);
				}
			}).window('center');
			$.ds.commons.addFootTask(id, title);
		};

		$.ds.commons.configRun = function(id) {

		};

		// 初始化west
		$("#west").panel('refresh', 'west.html');
		$("#north").panel('refresh', 'north.html');
		$("#center").panel('refresh', 'manager.html');
		$("#center").panel('setTitle', '管理首页');
	});
</script>
</head>
<body>
	<div id="main" class="easyui-layout" data-options="fit:true">
		<div id="north" data-options="region:'north'" style="height: 100px;"></div>
		<div id="west" class="easyui-panel"
			data-options="region:'west',split:true,collapsed:false,
                hideExpandTool: true,
                expandMode: null,
                hideCollapsedContent: false,
                collapsedSize: 62,
                collapsedContent: function(){
                    return $('#titlebar');
                }"
			title="目录" style="width: 200px;"></div>
		<div id="center" class="easyui-panel" data-options="region:'center',title:' '"></div>
		<div id="foot" data-options="region:'south'" style="height: 31px;"></div>
	</div>
	<div id="titlebar" style="padding: 2px">
		<a href="javascript:void(0)" class="easyui-linkbutton" style="width: 55px" data-options="iconCls:'layout-button-right'"
			onclick="$('#main').layout('expand','west')"></a> 
		<a href="javascript:void(0)" class="easyui-linkbutton" style="width: 55px"> <i class="fa fa-home fa-4x"></i>
		</a> 
		<a href="javascript:void(0)" class="easyui-linkbutton" style="width: 55px"> <i class="fa fa-cog fa-4x"></i>
		</a>
		<!--         <a href="javascript:void(0)" class="easyui-linkbutton" style="width:100%" data-options="iconCls:'icon-large-picture',size:'large',iconAlign:'top'">Picture</a> -->
		<!--         <a href="javascript:void(0)" class="easyui-linkbutton" style="width:100%" data-options="iconCls:'icon-large-shapes',size:'large',iconAlign:'top'">Shapes</a> -->
		<!--         <a href="javascript:void(0)" class="easyui-linkbutton" style="width:100%" data-options="iconCls:'icon-large-smartart',size:'large',iconAlign:'top'">SmartArt</a> -->
		<!--         <a href="javascript:void(0)" class="easyui-linkbutton" style="width:100%" data-options="iconCls:'icon-large-chart',size:'large',iconAlign:'top'">Chart</a> -->
		<!-- 		<ul style="list-style:none;margin: 0;padding: 0;"> -->
		<!-- 			<li style="float: left;cursor: pointer;background : #e6e6e6;"><i class="fa fa-home fa-4x"></i></li> -->
		<!-- 			<li style="float: left;cursor: pointer;"><i class="fa fa-cog fa-4x"></i></li> -->
		<!-- 		</ul> -->
	</div>
</body>
</html>